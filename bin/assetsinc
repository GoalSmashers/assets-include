#!/usr/bin/env node

var argv = require('optimist').argv,
  util = require('util'),
  AssetsInclude = require('../index');

var configFile = argv.c,
  inline = argv.i,
  includerOptions = {
    bundled: argv.b,
    root: argv.r
  },
  locator = argv._[0];

if (argv.h || argv._.length == 0) {
  util.print("usage: assetsinc [-i] [-b] -c <config file> -r <assets root path> <group path, name, and type>\n");
  util.print("e.g.: assetsinc -b -c /apps/example.com/current/config/assets.yml -r /apps/example.com/current/public javascripts/all.js\n");
  process.exit(0);
}

var includer = new AssetsInclude(configFile, includerOptions);
util.print(includer[inline ? 'inline' : 'group'](locator));